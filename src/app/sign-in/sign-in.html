<div class="sign-in-container">
  <!-- Snowflakes animation -->
  <div class="snowflakes">
    @for (i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]; track i) {
      <div class="snowflake">‚ùÑ</div>
    }
  </div>

  <!-- Christmas lights -->
  <div class="christmas-lights">
    @for (i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]; track i) {
      <div class="light"></div>
    }
  </div>

  <div class="sign-in-card">
    <div class="card-header">
      <div class="ornament-decoration">
        <div class="ornament ornament-red"></div>
        <div class="ornament ornament-green"></div>
        <div class="ornament ornament-gold"></div>
      </div>
      <h1 class="card-title">Welcome to GiftWise!</h1>
      <p class="card-subtitle">Track your holiday gift-giving with joy! üéÑ</p>
    </div>

    <div class="card-content">
      <mat-tab-group>
        <mat-tab label="Sign In">
          <div class="tab-content">
            <mat-form-field class="full-width">
              <mat-label>Email</mat-label>
              <input
                matInput
                type="email"
                [(ngModel)]="email"
                [disabled]="isLoading()"
                placeholder="Enter your email"
              />
            </mat-form-field>

            <mat-form-field class="full-width">
              <mat-label>Password</mat-label>
              <input
                matInput
                type="password"
                [(ngModel)]="password"
                [disabled]="isLoading()"
                placeholder="Enter your password"
              />
            </mat-form-field>

            @if (errorMessage()) {
              <div class="error-message">{{ errorMessage() }}</div>
            }

            @if (successMessage()) {
              <div class="success-message">{{ successMessage() }}</div>
            }

            <button
              class="sign-in-button"
              (click)="signInWithEmail()"
              [disabled]="isLoading()"
            >
              {{ isLoading() ? 'Signing in...' : 'Sign In' }}
            </button>

            <button
              class="forgot-password-link"
              (click)="forgotPassword()"
              type="button"
            >
              Forgot Password?
            </button>
          </div>
        </mat-tab>

        <mat-tab label="Sign Up">
          <div class="tab-content">
            <mat-form-field class="full-width">
              <mat-label>First Name</mat-label>
              <input
                matInput
                type="text"
                [(ngModel)]="firstName"
                [disabled]="isLoading()"
                placeholder="Enter your first name"
              />
            </mat-form-field>

            <mat-form-field class="full-width">
              <mat-label>Email</mat-label>
              <input
                matInput
                type="email"
                [(ngModel)]="email"
                [disabled]="isLoading()"
                placeholder="Enter your email"
              />
            </mat-form-field>

            <mat-form-field class="full-width">
              <mat-label>Password</mat-label>
              <input
                matInput
                type="password"
                [(ngModel)]="password"
                [disabled]="isLoading()"
                placeholder="Create a password"
              />
            </mat-form-field>

            <mat-form-field class="full-width">
              <mat-label>Confirm Password</mat-label>
              <input
                matInput
                type="password"
                [(ngModel)]="confirmPassword"
                [disabled]="isLoading()"
                placeholder="Re-enter your password"
              />
            </mat-form-field>

            <mat-form-field class="full-width">
              <mat-label>Total Budget</mat-label>
              <input
                matInput
                type="number"
                [(ngModel)]="budget"
                [disabled]="isLoading()"
                placeholder="Enter your total budget"
                min="0"
                step="0.01"
              />
            </mat-form-field>

            @if (errorMessage()) {
              <div class="error-message">{{ errorMessage() }}</div>
            }

            <button
              class="sign-in-button"
              (click)="signUpWithEmail()"
              [disabled]="isLoading()"
            >
              {{ isLoading() ? 'Creating account...' : 'Sign Up' }}
            </button>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
